<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>IACF: C:/Temp/Iacf/Include/ilolv/CTracerDriverBase.h Source File</title>

<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css" />



</head>
<body>
<div id="top"><!-- do not remove this div! -->


<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  
  
  <td style="padding-left: 0.5em;">
   <div id="projectname">IACF
   &#160;<span id="projectnumber">0.3.2.25</span>
   </div>
   
  </td>
  
  
  
 </tr>
 </tbody>
</table>
</div>

<!-- Generated by Doxygen 1.7.5.1 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
    </ul>
  </div>
<div class="header">
  <div class="headertitle">
<div class="title">C:/Temp/Iacf/Include/ilolv/CTracerDriverBase.h</div>  </div>
</div>
<div class="contents">
<a href="_c_tracer_driver_base_8h.html">Go to the documentation of this file.</a><div class="fragment"><pre class="fragment"><a name="l00001"></a>00001 <span class="preprocessor">#ifndef ilolv_CTracerDriverBase_included</span>
<a name="l00002"></a>00002 <span class="preprocessor"></span><span class="preprocessor">#define ilolv_CTracerDriverBase_included</span>
<a name="l00003"></a>00003 <span class="preprocessor"></span>
<a name="l00004"></a>00004 
<a name="l00005"></a>00005 <span class="preprocessor">#include &quot;<a class="code" href="_i_driver_8h.html">ilolv/IDriver.h</a>&quot;</span>
<a name="l00006"></a>00006 <span class="preprocessor">#include &quot;<a class="code" href="_t_ordered_positions_queue_8h.html">ilolv/TOrderedPositionsQueue.h</a>&quot;</span>
<a name="l00007"></a>00007 <span class="preprocessor">#include &quot;<a class="code" href="_c_tracer_commands_8h.html">ilolv/CTracerCommands.h</a>&quot;</span>
<a name="l00008"></a>00008 
<a name="l00009"></a>00009 
<a name="l00010"></a>00010 <span class="keyword">namespace </span>ilolv
<a name="l00011"></a>00011 {
<a name="l00012"></a>00012 
<a name="l00013"></a>00013 
<a name="l00017"></a><a class="code" href="classilolv_1_1_c_tracer_driver_base.html">00017</a> <span class="keyword">class </span><a class="code" href="classilolv_1_1_c_tracer_driver_base.html" title="Object tracer for hardware driver.">CTracerDriverBase</a>: <span class="keyword">virtual</span> <span class="keyword">public</span> <a class="code" href="classilolv_1_1_i_driver.html">IDriver</a>
<a name="l00018"></a>00018 {
<a name="l00019"></a>00019 <span class="keyword">public</span>:
<a name="l00020"></a>00020        <span class="keyword">enum</span>
<a name="l00021"></a>00021        {
<a name="l00022"></a><a class="code" href="classilolv_1_1_c_tracer_driver_base.html#af6ae7517560b95ed48544e28a0ecfc9fa8dff50443ef5ac9fad0781031e8ccb9f">00022</a>               <a class="code" href="classilolv_1_1_c_tracer_driver_base.html#af6ae7517560b95ed48544e28a0ecfc9fa8dff50443ef5ac9fad0781031e8ccb9f">MAX_UNITS_COUNT</a> = 4,
<a name="l00023"></a><a class="code" href="classilolv_1_1_c_tracer_driver_base.html#af6ae7517560b95ed48544e28a0ecfc9fa9a80daaa4fe99359d5ee4659523c364c">00023</a>               <a class="code" href="classilolv_1_1_c_tracer_driver_base.html#af6ae7517560b95ed48544e28a0ecfc9fa9a80daaa4fe99359d5ee4659523c364c">MAX_EJECTORS</a> = 4,
<a name="l00024"></a><a class="code" href="classilolv_1_1_c_tracer_driver_base.html#af6ae7517560b95ed48544e28a0ecfc9fa730dea26985ecf3609afb1e8b6ab3c89">00024</a>               <a class="code" href="classilolv_1_1_c_tracer_driver_base.html#af6ae7517560b95ed48544e28a0ecfc9fa730dea26985ecf3609afb1e8b6ab3c89">MAX_LIGHT_BARRIERS</a> = <a class="code" href="classilolv_1_1_c_tracer_driver_base.html#af6ae7517560b95ed48544e28a0ecfc9fa8dff50443ef5ac9fad0781031e8ccb9f">MAX_UNITS_COUNT</a> * 2
<a name="l00025"></a>00025        };
<a name="l00026"></a>00026 
<a name="l00027"></a>00027        <a class="code" href="classilolv_1_1_c_tracer_driver_base.html#a2b92796269b79e6a7b8d9a144a8a07fe">CTracerDriverBase</a>();
<a name="l00028"></a>00028 
<a name="l00032"></a>00032        <span class="keyword">const</span> <a class="code" href="structilolv_1_1_c_tracer_commands_1_1_tracer_params.html">CTracerCommands::TracerParams</a>&amp; <a class="code" href="classilolv_1_1_c_tracer_driver_base.html#a06c64b43107fefd19b5ef2ec8dbfe43f" title="Get global params for this tracer.">GetTracerParams</a>() <span class="keyword">const</span>;
<a name="l00033"></a>00033 
<a name="l00037"></a>00037        <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classilolv_1_1_c_tracer_driver_base.html#a508a2ec52e4efca2de408542c0664cd8" title="Reset traced object queue.">ResetQueue</a>();
<a name="l00038"></a>00038 
<a name="l00042"></a>00042        <span class="keyword">virtual</span> <span class="keyword">const</span> <a class="code" href="structilolv_1_1_c_inspection_unit_commands_1_1_unit_params.html">CInspectionUnitCommands::UnitParams</a>&amp; <a class="code" href="classilolv_1_1_c_tracer_driver_base.html#a602add57773a407b10f553a01a377e66" title="Get single inspection unit parameters.">GetUnitParams</a>(<span class="keywordtype">int</span> unitIndex) <span class="keyword">const</span>;
<a name="l00043"></a>00043 
<a name="l00047"></a>00047        <span class="keyword">const</span> <a class="code" href="structilolv_1_1_c_tracer_commands_1_1_ejector_params.html">CTracerCommands::EjectorParams</a>&amp; <a class="code" href="classilolv_1_1_c_tracer_driver_base.html#afe61d62ea363808444886a7e695736a2" title="Get parameters of single ejector.">GetEjectorParams</a>(<span class="keywordtype">int</span> unitIndex) <span class="keyword">const</span>;
<a name="l00048"></a>00048 
<a name="l00052"></a>00052        <span class="keywordtype">int</span> <a class="code" href="classilolv_1_1_c_tracer_driver_base.html#a0f591da5fa7eda5e109ba5a30202944d" title="Processing of pop inspection command.">OnPopInspectionCommand</a>(<span class="keywordtype">int</span> unitIndex);
<a name="l00056"></a>00056        <span class="keywordtype">bool</span> <a class="code" href="classilolv_1_1_c_tracer_driver_base.html#a0745618c106cb5283bec428d2a321f79" title="Processing of set result command.">OnSetResultCommand</a>(<span class="keywordtype">int</span> unitIndex, <span class="keywordtype">int</span> inspectionId, <span class="keywordtype">int</span> ejectorIndex);
<a name="l00057"></a>00057 
<a name="l00063"></a>00063        <span class="keywordtype">void</span> <a class="code" href="classilolv_1_1_c_tracer_driver_base.html#a2dc2a069f2037760331113c5a8ec1338" title="Process of position event.">ProcessPositionEvent</a>(<span class="keywordtype">int</span> eventIndex, <span class="keywordtype">void</span>* userContext);
<a name="l00064"></a>00064 
<a name="l00065"></a>00065        <span class="comment">// reimplemented (ilolv::IDriver)</span>
<a name="l00066"></a>00066        <span class="keyword">virtual</span> <span class="keywordtype">bool</span> <a class="code" href="classilolv_1_1_c_tracer_driver_base.html#afe292b9f291386756c07e6113f8062a5" title="Called if user command should be executed.">OnCommand</a>(
<a name="l00067"></a>00067                             <span class="keywordtype">int</span> commandCode,
<a name="l00068"></a>00068                             <span class="keyword">const</span> <span class="keywordtype">void</span>* commandBuffer,
<a name="l00069"></a>00069                             <span class="keywordtype">int</span> commandBufferSize,
<a name="l00070"></a>00070                             <span class="keywordtype">void</span>* responseBuffer,
<a name="l00071"></a>00071                             <span class="keywordtype">int</span> responseBufferSize,
<a name="l00072"></a>00072                             <span class="keywordtype">int</span>&amp; responseSize);
<a name="l00073"></a>00073        <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classilolv_1_1_c_tracer_driver_base.html#a15c2ee7efbcb3620154ee5ca6fddb5a8" title="Called if hardware interrupt is occured.">OnHardwareInterrupt</a>(<a class="codeRef" doxygen="Package.tag:file:\\C:\Temp\Acf/Docs/TechnicalDoc/" href="file:\\C:\Temp\Acf/Docs/TechnicalDoc/istd_8h.html#a84c73ce218157caddb0304f786e7120d">I_DWORD</a> interruptFlags);
<a name="l00074"></a>00074 
<a name="l00075"></a>00075 <span class="keyword">protected</span>:
<a name="l00076"></a><a class="code" href="classilolv_1_1_c_tracer_driver_base.html#a9b7a006b377e175a8c9cab232ec49861">00076</a>        <span class="keyword">enum</span> <a class="code" href="classilolv_1_1_c_tracer_driver_base.html#a9b7a006b377e175a8c9cab232ec49861">InspectionState</a>
<a name="l00077"></a>00077        {
<a name="l00081"></a><a class="code" href="classilolv_1_1_c_tracer_driver_base.html#a9b7a006b377e175a8c9cab232ec49861a5712aea7a0fb717f7ea3126feddeb582">00081</a>               <a class="code" href="classilolv_1_1_c_tracer_driver_base.html#a9b7a006b377e175a8c9cab232ec49861a5712aea7a0fb717f7ea3126feddeb582" title="Initialized.">IS_INIT</a>,
<a name="l00085"></a><a class="code" href="classilolv_1_1_c_tracer_driver_base.html#a9b7a006b377e175a8c9cab232ec49861a1e400d5f232022a3bedd2baca2e0d1e7">00085</a>               <a class="code" href="classilolv_1_1_c_tracer_driver_base.html#a9b7a006b377e175a8c9cab232ec49861a1e400d5f232022a3bedd2baca2e0d1e7" title="Trigger yould not be done.">IS_UNTRIGGERED</a>,
<a name="l00089"></a><a class="code" href="classilolv_1_1_c_tracer_driver_base.html#a9b7a006b377e175a8c9cab232ec49861a412175e1cd7e9e158f9d75502764a1e1">00089</a>               <a class="code" href="classilolv_1_1_c_tracer_driver_base.html#a9b7a006b377e175a8c9cab232ec49861a412175e1cd7e9e158f9d75502764a1e1" title="Triggered, waiting to be get to inspect.">IS_TRIGGERED</a>,
<a name="l00093"></a><a class="code" href="classilolv_1_1_c_tracer_driver_base.html#a9b7a006b377e175a8c9cab232ec49861a41351436db66e74b004bc35c37d7526b">00093</a>               <a class="code" href="classilolv_1_1_c_tracer_driver_base.html#a9b7a006b377e175a8c9cab232ec49861a41351436db66e74b004bc35c37d7526b" title="During inspection.">IS_INSPECTION</a>,
<a name="l00097"></a><a class="code" href="classilolv_1_1_c_tracer_driver_base.html#a9b7a006b377e175a8c9cab232ec49861a1a0b4f36c16e30cc95bbf908487cdc88">00097</a>               <a class="code" href="classilolv_1_1_c_tracer_driver_base.html#a9b7a006b377e175a8c9cab232ec49861a1a0b4f36c16e30cc95bbf908487cdc88" title="Inspection is done and result is set.">IS_RESULT</a>
<a name="l00098"></a>00098        };
<a name="l00099"></a>00099 
<a name="l00103"></a><a class="code" href="classilolv_1_1_c_tracer_driver_base.html#a3cf7c6408529b1f0d1a4fcd732c7a455">00103</a>        <span class="keyword">enum</span> <a class="code" href="classilolv_1_1_c_tracer_driver_base.html#a3cf7c6408529b1f0d1a4fcd732c7a455" title="Describe state of traced object during processing in objects queue.">ObjectState</a>
<a name="l00104"></a>00104        {
<a name="l00108"></a><a class="code" href="classilolv_1_1_c_tracer_driver_base.html#a3cf7c6408529b1f0d1a4fcd732c7a455a752d6d90b61527df1a25bc691015dcfc">00108</a>               <a class="code" href="classilolv_1_1_c_tracer_driver_base.html#a3cf7c6408529b1f0d1a4fcd732c7a455a752d6d90b61527df1a25bc691015dcfc" title="Object initialized (the state after adding to queue).">OS_INIT</a>,
<a name="l00113"></a><a class="code" href="classilolv_1_1_c_tracer_driver_base.html#a3cf7c6408529b1f0d1a4fcd732c7a455ad2fcc2ba48d750d89a8ede8d2f5dcd1c">00113</a>               <a class="code" href="classilolv_1_1_c_tracer_driver_base.html#a3cf7c6408529b1f0d1a4fcd732c7a455ad2fcc2ba48d750d89a8ede8d2f5dcd1c" title="Ejection decision was made.">OS_EJECTION_DECIDED</a>,
<a name="l00117"></a><a class="code" href="classilolv_1_1_c_tracer_driver_base.html#a3cf7c6408529b1f0d1a4fcd732c7a455afbebaa05063e61fce89c96f69aeb3540">00117</a>               <a class="code" href="classilolv_1_1_c_tracer_driver_base.html#a3cf7c6408529b1f0d1a4fcd732c7a455afbebaa05063e61fce89c96f69aeb3540" title="Controlling of ejection is made.">OS_CONTROLLED</a>
<a name="l00118"></a>00118        };
<a name="l00119"></a>00119 
<a name="l00120"></a><a class="code" href="structilolv_1_1_c_tracer_driver_base_1_1_inspection_unit_element.html">00120</a>        <span class="keyword">struct </span><a class="code" href="structilolv_1_1_c_tracer_driver_base_1_1_inspection_unit_element.html">InspectionUnitElement</a>: <span class="keyword">public</span> <a class="code" href="classilolv_1_1_c_inspection_unit_commands.html">CInspectionUnitCommands</a>::UnitParams
<a name="l00121"></a>00121        {
<a name="l00125"></a><a class="code" href="structilolv_1_1_c_tracer_driver_base_1_1_inspection_unit_element.html#a379128a7df13ef3fd383809f0bbd6818">00125</a>               <a class="codeRef" doxygen="Package.tag:file:\\C:\Temp\Acf/Docs/TechnicalDoc/" href="file:\\C:\Temp\Acf/Docs/TechnicalDoc/istd_8h.html#acc21c955baf6cc528081b9fa4470e109">I_SQWORD</a> <a class="code" href="structilolv_1_1_c_tracer_driver_base_1_1_inspection_unit_element.html#a379128a7df13ef3fd383809f0bbd6818" title="Time of last trigger on.">triggerOnTime</a>;
<a name="l00129"></a><a class="code" href="structilolv_1_1_c_tracer_driver_base_1_1_inspection_unit_element.html#a682caf8b39f405d421c5c966007c9442">00129</a>               <span class="keywordtype">bool</span> <a class="code" href="structilolv_1_1_c_tracer_driver_base_1_1_inspection_unit_element.html#a682caf8b39f405d421c5c966007c9442" title="Indicate that trigger bit is on.">isTriggerBitSet</a>;
<a name="l00133"></a><a class="code" href="structilolv_1_1_c_tracer_driver_base_1_1_inspection_unit_element.html#af41aa1c961bbe81098b04cb8c2bb2edc">00133</a>               <a class="codeRef" doxygen="Package.tag:file:\\C:\Temp\Acf/Docs/TechnicalDoc/" href="file:\\C:\Temp\Acf/Docs/TechnicalDoc/istd_8h.html#a84c73ce218157caddb0304f786e7120d">I_DWORD</a> <a class="code" href="structilolv_1_1_c_tracer_driver_base_1_1_inspection_unit_element.html#af41aa1c961bbe81098b04cb8c2bb2edc" title="Position of rising light barier edge.">edgeOnPosition</a>;
<a name="l00137"></a><a class="code" href="structilolv_1_1_c_tracer_driver_base_1_1_inspection_unit_element.html#a058e8c14e93866edbaaf97e0fc7fb294">00137</a>               <span class="keywordtype">bool</span> <a class="code" href="structilolv_1_1_c_tracer_driver_base_1_1_inspection_unit_element.html#a058e8c14e93866edbaaf97e0fc7fb294" title="Last read barrier state.">lastBarrierState</a>;
<a name="l00138"></a>00138        };
<a name="l00139"></a>00139 
<a name="l00143"></a><a class="code" href="structilolv_1_1_c_tracer_driver_base_1_1_inspection_info.html">00143</a>        <span class="keyword">struct </span><a class="code" href="structilolv_1_1_c_tracer_driver_base_1_1_inspection_info.html" title="Describe single inspection for each unit in objects queue.">InspectionInfo</a>
<a name="l00144"></a>00144        {
<a name="l00148"></a><a class="code" href="structilolv_1_1_c_tracer_driver_base_1_1_inspection_info.html#ab6f18aff7b3f7ce80cad4a048fa0398e">00148</a>               <a class="code" href="classilolv_1_1_c_tracer_driver_base.html#a9b7a006b377e175a8c9cab232ec49861">InspectionState</a> <a class="code" href="structilolv_1_1_c_tracer_driver_base_1_1_inspection_info.html#ab6f18aff7b3f7ce80cad4a048fa0398e" title="State inspection.">inspectionState</a>;
<a name="l00152"></a><a class="code" href="structilolv_1_1_c_tracer_driver_base_1_1_inspection_info.html#aa150568feea355b055ecd1fddf8e94de">00152</a>               <span class="keywordtype">int</span> <a class="code" href="structilolv_1_1_c_tracer_driver_base_1_1_inspection_info.html#aa150568feea355b055ecd1fddf8e94de" title="Ejector index set by application as inspection result.">ejectorIndex</a>;
<a name="l00156"></a><a class="code" href="structilolv_1_1_c_tracer_driver_base_1_1_inspection_info.html#a89eabfc8d5970e255aa28eae155b03df">00156</a>               <a class="code" href="classilolv_1_1_i_driver.html#a0f3ce4e9cfe1779704dd605cb6d34a24">NativeTimer</a> <a class="code" href="structilolv_1_1_c_tracer_driver_base_1_1_inspection_info.html#a89eabfc8d5970e255aa28eae155b03df" title="Trigger time stamp.">nativeTimeStamp</a>;
<a name="l00157"></a>00157        };
<a name="l00158"></a>00158 
<a name="l00159"></a><a class="code" href="structilolv_1_1_c_tracer_driver_base_1_1_object_info.html">00159</a>        <span class="keyword">struct </span><a class="code" href="structilolv_1_1_c_tracer_driver_base_1_1_object_info.html">ObjectInfo</a>
<a name="l00160"></a>00160        {
<a name="l00164"></a><a class="code" href="structilolv_1_1_c_tracer_driver_base_1_1_object_info.html#a2c88c06211cfd80d75ff69bda53c7ae7">00164</a>               <a class="code" href="classilolv_1_1_c_tracer_driver_base.html#a3cf7c6408529b1f0d1a4fcd732c7a455" title="Describe state of traced object during processing in objects queue.">ObjectState</a> <a class="code" href="structilolv_1_1_c_tracer_driver_base_1_1_object_info.html#a2c88c06211cfd80d75ff69bda53c7ae7" title="State of this object.">objectState</a>;
<a name="l00165"></a>00165 
<a name="l00169"></a><a class="code" href="structilolv_1_1_c_tracer_driver_base_1_1_object_info.html#a94e3509ab0e72f646780ec6b9bb75456">00169</a>               <a class="code" href="structilolv_1_1_c_tracer_driver_base_1_1_inspection_info.html" title="Describe single inspection for each unit in objects queue.">InspectionInfo</a> <a class="code" href="structilolv_1_1_c_tracer_driver_base_1_1_object_info.html#a94e3509ab0e72f646780ec6b9bb75456" title="State of inspection for each inspection unit.">units</a>[<a class="code" href="classilolv_1_1_c_tracer_driver_base.html#af6ae7517560b95ed48544e28a0ecfc9fa8dff50443ef5ac9fad0781031e8ccb9f">MAX_UNITS_COUNT</a>];
<a name="l00170"></a>00170 
<a name="l00174"></a><a class="code" href="structilolv_1_1_c_tracer_driver_base_1_1_object_info.html#a836842381224ba8ea416b188cfb3dcfa">00174</a>               <a class="codeRef" doxygen="Package.tag:file:\\C:\Temp\Acf/Docs/TechnicalDoc/" href="file:\\C:\Temp\Acf/Docs/TechnicalDoc/istd_8h.html#a84c73ce218157caddb0304f786e7120d">I_DWORD</a> <a class="code" href="structilolv_1_1_c_tracer_driver_base_1_1_object_info.html#a836842381224ba8ea416b188cfb3dcfa" title="Global object ID.">objectIndex</a>;
<a name="l00175"></a>00175 
<a name="l00179"></a><a class="code" href="structilolv_1_1_c_tracer_driver_base_1_1_object_info.html#a37ec72e268097fcbb39ab6f2d4c6b34f">00179</a>               <span class="keywordtype">int</span> <a class="code" href="structilolv_1_1_c_tracer_driver_base_1_1_object_info.html#a37ec72e268097fcbb39ab6f2d4c6b34f" title="Index of ejector used to eject this object.">decidedEjectorIndex</a>;
<a name="l00180"></a>00180        };
<a name="l00181"></a>00181 
<a name="l00182"></a><a class="code" href="structilolv_1_1_c_tracer_driver_base_1_1_ejector_info.html">00182</a>        <span class="keyword">struct </span><a class="code" href="structilolv_1_1_c_tracer_driver_base_1_1_ejector_info.html">EjectorInfo</a>: <span class="keyword">public</span> <a class="code" href="classilolv_1_1_c_tracer_commands.html">CTracerCommands</a>::EjectorParams
<a name="l00183"></a>00183        {
<a name="l00187"></a><a class="code" href="structilolv_1_1_c_tracer_driver_base_1_1_ejector_info.html#a108af60c1b024d5ac2ac82da30523b17">00187</a>               <a class="codeRef" doxygen="Package.tag:file:\\C:\Temp\Acf/Docs/TechnicalDoc/" href="file:\\C:\Temp\Acf/Docs/TechnicalDoc/istd_8h.html#acc21c955baf6cc528081b9fa4470e109">I_SQWORD</a> <a class="code" href="structilolv_1_1_c_tracer_driver_base_1_1_ejector_info.html#a108af60c1b024d5ac2ac82da30523b17" title="Time when ejector was on.">ejectionOnTime</a>;
<a name="l00191"></a><a class="code" href="structilolv_1_1_c_tracer_driver_base_1_1_ejector_info.html#a7e3fd1c3a2735089fc94d1c27b7b070a">00191</a>               <span class="keywordtype">int</span> <a class="code" href="structilolv_1_1_c_tracer_driver_base_1_1_ejector_info.html#a7e3fd1c3a2735089fc94d1c27b7b070a" title="Counter used to ensure that overlapped ejection will be done once.">overloadCounter</a>;
<a name="l00192"></a>00192        };
<a name="l00193"></a>00193 
<a name="l00197"></a>00197        <span class="keywordtype">int</span> <a class="code" href="classilolv_1_1_c_tracer_driver_base.html#a1517252d913763c27c69dad0b4258ba9" title="Add object to fifo list.">PushNewObject</a>(<a class="codeRef" doxygen="Package.tag:file:\\C:\Temp\Acf/Docs/TechnicalDoc/" href="file:\\C:\Temp\Acf/Docs/TechnicalDoc/istd_8h.html#a84c73ce218157caddb0304f786e7120d">I_DWORD</a> basePosition);
<a name="l00198"></a>00198 
<a name="l00205"></a>00205        <span class="keywordtype">void</span> <a class="code" href="classilolv_1_1_c_tracer_driver_base.html#a76ebf1e7dc3cd3f066462ecbdfddc4ed" title="Called when light barrier edge was detected.">OnLightBarrierEdge</a>(<a class="codeRef" doxygen="Package.tag:file:\\C:\Temp\Acf/Docs/TechnicalDoc/" href="file:\\C:\Temp\Acf/Docs/TechnicalDoc/istd_8h.html#a84c73ce218157caddb0304f786e7120d">I_DWORD</a> basePosition, <span class="keywordtype">int</span> unitIndex);
<a name="l00206"></a>00206 
<a name="l00207"></a>00207        <span class="comment">// position events</span>
<a name="l00208"></a>00208        <span class="keywordtype">void</span> <a class="code" href="classilolv_1_1_c_tracer_driver_base.html#ab7b5ff7ce6a93915bb522ffbb850cf02">OnDecisionEvent</a>(<span class="keywordtype">int</span> inspectionIndex);
<a name="l00209"></a>00209        <span class="keywordtype">void</span> <a class="code" href="classilolv_1_1_c_tracer_driver_base.html#af7c2f61e731cd3b3259fd177887d13d3">OnEjectionControlEvent</a>(<span class="keywordtype">int</span> inspectionIndex);
<a name="l00210"></a>00210        <span class="keywordtype">void</span> <a class="code" href="classilolv_1_1_c_tracer_driver_base.html#a11c1bceb7a9c3c76163531efb744c73b">OnPopFifoEvent</a>();
<a name="l00211"></a>00211        <span class="keywordtype">void</span> <a class="code" href="classilolv_1_1_c_tracer_driver_base.html#a2943191fa866977d75d230bde7270230">OnTriggerEvent</a>(<span class="keywordtype">int</span> unitIndex, <span class="keywordtype">int</span> inspectionIndex);
<a name="l00212"></a>00212        <span class="keywordtype">void</span> <a class="code" href="classilolv_1_1_c_tracer_driver_base.html#a323d4dae1139e3b340fe50053e3cf549">OnEjectorOnEvent</a>(<span class="keywordtype">int</span> ejectorIndex);
<a name="l00213"></a>00213        <span class="keywordtype">void</span> <a class="code" href="classilolv_1_1_c_tracer_driver_base.html#af996a442c866667bec96678b961598cd">OnEjectorOffEvent</a>(<span class="keywordtype">int</span> ejectorIndex);
<a name="l00214"></a>00214 
<a name="l00215"></a>00215        <span class="comment">// command processing</span>
<a name="l00219"></a>00219 <span class="comment"></span>       <span class="keywordtype">void</span> <a class="code" href="classilolv_1_1_c_tracer_driver_base.html#a0a72d976c8cde1a736c167f049a0f036" title="Process single trigger command.">OnSingleTriggerCommand</a>(
<a name="l00220"></a>00220                             <span class="keyword">const</span> <a class="code" href="structilolv_1_1_c_tracer_commands_1_1_single_trigger.html">CTracerCommands::SingleTrigger</a>&amp; command,
<a name="l00221"></a>00221                             <a class="code" href="structilolv_1_1_c_tracer_commands_1_1_single_trigger_1_1_result.html">CTracerCommands::SingleTrigger::Result</a>&amp; result);
<a name="l00222"></a>00222 
<a name="l00223"></a>00223        <span class="comment">// abstract methods</span>
<a name="l00227"></a>00227 <span class="comment"></span>       <span class="keyword">virtual</span> <a class="codeRef" doxygen="Package.tag:file:\\C:\Temp\Acf/Docs/TechnicalDoc/" href="file:\\C:\Temp\Acf/Docs/TechnicalDoc/istd_8h.html#a84c73ce218157caddb0304f786e7120d">I_DWORD</a> <a class="code" href="classilolv_1_1_c_tracer_driver_base.html#a8ffc616aebc854f47c4df05b024d37b4" title="Get current position of production line read from encoder.">GetLinePosition</a>() <span class="keyword">const</span> = 0;
<a name="l00233"></a>00233        <span class="keyword">virtual</span> <span class="keywordtype">bool</span> <a class="code" href="classilolv_1_1_c_tracer_driver_base.html#ac0815127810a726df0fb9cedfcfc3c84" title="Set number of needed counter queues.">SetCounterQueuesCount</a>(<span class="keywordtype">int</span> count) = 0;
<a name="l00237"></a>00237        <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classilolv_1_1_c_tracer_driver_base.html#ae9a5bba5deceec79bdf69b7ee4d21e41" title="Insert new position to specified counter queue.">InsertPositionToQueue</a>(<span class="keywordtype">int</span> queueIndex, <a class="codeRef" doxygen="Package.tag:file:\\C:\Temp\Acf/Docs/TechnicalDoc/" href="file:\\C:\Temp\Acf/Docs/TechnicalDoc/istd_8h.html#a84c73ce218157caddb0304f786e7120d">I_DWORD</a> counterPosition, <span class="keywordtype">void</span>* userContext) = 0;
<a name="l00241"></a>00241        <span class="keyword">virtual</span> <span class="keywordtype">bool</span> <a class="code" href="classilolv_1_1_c_tracer_driver_base.html#a9214a929ff848d0fde3d1aa2f242fbce" title="Get state of specified light barrier bit.">GetLightBarrierBit</a>(<span class="keywordtype">int</span> lightBarrierIndex) <span class="keyword">const</span> = 0;
<a name="l00245"></a>00245        <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classilolv_1_1_c_tracer_driver_base.html#ad9b422ec73a64ec597cf7aea39df972b" title="Turn specified trigger bit on or off.">SetTriggerBit</a>(<span class="keywordtype">int</span> triggerIndex, <span class="keywordtype">bool</span> state) = 0;
<a name="l00249"></a>00249        <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classilolv_1_1_c_tracer_driver_base.html#acebb389e6d5664d6c9cee5d7662adf44" title="Turn specified ejector bit on or off.">SetEjectorBit</a>(<span class="keywordtype">int</span> ejectorIndex, <span class="keywordtype">bool</span> state) = 0;
<a name="l00250"></a>00250 
<a name="l00251"></a>00251        <span class="comment">// static methods</span>
<a name="l00252"></a>00252        <span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="classilolv_1_1_c_tracer_driver_base.html#af6877300fa4e5d5d875a69fd354a87e8">CalcNextFifoIndex</a>(<span class="keywordtype">int</span> prevIndex);
<a name="l00253"></a>00253        <span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="classilolv_1_1_c_tracer_driver_base.html#ac691b4e8408c414349a294dc204ac123">CalcPrevFifoIndex</a>(<span class="keywordtype">int</span> nextIndex);
<a name="l00254"></a>00254 
<a name="l00255"></a>00255 <span class="keyword">private</span>:
<a name="l00256"></a>00256        <span class="keyword">enum</span>{
<a name="l00257"></a>00257               FIFO_INDEX_MASK = 255,
<a name="l00258"></a>00258               FIFO_COUNT = FIFO_INDEX_MASK + 1
<a name="l00259"></a>00259        };
<a name="l00260"></a>00260 
<a name="l00264"></a>00264        <span class="keyword">enum</span> EventIndex
<a name="l00265"></a>00265        {
<a name="l00269"></a>00269               EI_DECISION,
<a name="l00270"></a>00270               EI_EJECTION_CONTROL,
<a name="l00274"></a>00274               EI_REMOVE_FROM_QUEUE,
<a name="l00278"></a>00278               EI_TRIGGER
<a name="l00279"></a>00279        };
<a name="l00280"></a>00280 
<a name="l00281"></a>00281        CTracerCommands::TracerParams m_params;
<a name="l00282"></a>00282 
<a name="l00283"></a>00283        <span class="keywordtype">int</span> m_controllerMode;
<a name="l00284"></a>00284 
<a name="l00285"></a>00285        <a class="codeRef" doxygen="Package.tag:file:\\C:\Temp\Acf/Docs/TechnicalDoc/" href="file:\\C:\Temp\Acf/Docs/TechnicalDoc/istd_8h.html#a84c73ce218157caddb0304f786e7120d">I_DWORD</a> m_lastInspectedObjectIndex;
<a name="l00286"></a>00286 
<a name="l00287"></a>00287        <span class="keyword">typedef</span> TOrderedPositionsQueue&lt;ObjectInfo&gt; ObjectsFifo;
<a name="l00288"></a>00288        ObjectsFifo m_objectsFifo;
<a name="l00289"></a>00289 
<a name="l00290"></a>00290        InspectionUnitElement m_inspectionUnits[<a class="code" href="classilolv_1_1_c_tracer_driver_base.html#af6ae7517560b95ed48544e28a0ecfc9fa8dff50443ef5ac9fad0781031e8ccb9f">MAX_UNITS_COUNT</a>];
<a name="l00291"></a>00291        EjectorInfo m_ejectors[<a class="code" href="classilolv_1_1_c_tracer_driver_base.html#af6ae7517560b95ed48544e28a0ecfc9fa9a80daaa4fe99359d5ee4659523c364c">MAX_EJECTORS</a>];
<a name="l00292"></a>00292        <span class="keywordtype">int</span> m_lightBarriersOffset[<a class="code" href="classilolv_1_1_c_tracer_driver_base.html#af6ae7517560b95ed48544e28a0ecfc9fa730dea26985ecf3609afb1e8b6ab3c89">MAX_LIGHT_BARRIERS</a>];
<a name="l00293"></a>00293 
<a name="l00294"></a>00294        <span class="keywordtype">int</span> m_decisionEventPosition;
<a name="l00295"></a>00295        <span class="keywordtype">int</span> m_queueEndPosition;
<a name="l00296"></a>00296 
<a name="l00297"></a>00297        <span class="keywordtype">int</span> m_ejectorOnEventIndex;
<a name="l00298"></a>00298        <span class="keywordtype">int</span> m_ejectorOffEventIndex;
<a name="l00299"></a>00299 
<a name="l00300"></a>00300        <span class="keywordtype">int</span> m_firstStationIndex;
<a name="l00301"></a>00301 };
<a name="l00302"></a>00302 
<a name="l00303"></a>00303 
<a name="l00304"></a>00304 <span class="comment">// inline methods</span>
<a name="l00305"></a>00305 
<a name="l00306"></a><a class="code" href="classilolv_1_1_c_tracer_driver_base.html#a06c64b43107fefd19b5ef2ec8dbfe43f">00306</a> <span class="keyword">inline</span> <span class="keyword">const</span> <a class="code" href="structilolv_1_1_c_tracer_commands_1_1_tracer_params.html">CTracerCommands::TracerParams</a>&amp; <a class="code" href="classilolv_1_1_c_tracer_driver_base.html#a06c64b43107fefd19b5ef2ec8dbfe43f" title="Get global params for this tracer.">CTracerDriverBase::GetTracerParams</a>()<span class="keyword"> const</span>
<a name="l00307"></a>00307 <span class="keyword"></span>{
<a name="l00308"></a>00308        <span class="keywordflow">return</span> m_params;
<a name="l00309"></a>00309 }
<a name="l00310"></a>00310 
<a name="l00311"></a>00311 
<a name="l00312"></a>00312 <span class="comment">// protected inline methods</span>
<a name="l00313"></a>00313 
<a name="l00314"></a>00314 <span class="comment">// static methods</span>
<a name="l00315"></a>00315 
<a name="l00316"></a><a class="code" href="classilolv_1_1_c_tracer_driver_base.html#af6877300fa4e5d5d875a69fd354a87e8">00316</a> <span class="keyword">inline</span> <span class="keywordtype">int</span> <a class="code" href="classilolv_1_1_c_tracer_driver_base.html#af6877300fa4e5d5d875a69fd354a87e8">CTracerDriverBase::CalcNextFifoIndex</a>(<span class="keywordtype">int</span> prevIndex)
<a name="l00317"></a>00317 {
<a name="l00318"></a>00318        <span class="keywordflow">return</span> FIFO_INDEX_MASK &amp; (prevIndex + 1);
<a name="l00319"></a>00319 }
<a name="l00320"></a>00320 
<a name="l00321"></a>00321 
<a name="l00322"></a><a class="code" href="classilolv_1_1_c_tracer_driver_base.html#ac691b4e8408c414349a294dc204ac123">00322</a> <span class="keyword">inline</span> <span class="keywordtype">int</span> <a class="code" href="classilolv_1_1_c_tracer_driver_base.html#ac691b4e8408c414349a294dc204ac123">CTracerDriverBase::CalcPrevFifoIndex</a>(<span class="keywordtype">int</span> nextIndex)
<a name="l00323"></a>00323 {
<a name="l00324"></a>00324        <span class="keywordflow">return</span> FIFO_INDEX_MASK &amp; (nextIndex + (FIFO_COUNT - 1));
<a name="l00325"></a>00325 }
<a name="l00326"></a>00326 
<a name="l00327"></a>00327 
<a name="l00328"></a>00328 } <span class="comment">// namespace ilolv</span>
<a name="l00329"></a>00329 
<a name="l00330"></a>00330 
<a name="l00331"></a>00331 <span class="preprocessor">#endif // !ilolv_CTracerDriverBase_included</span>
<a name="l00332"></a>00332 <span class="preprocessor"></span>
<a name="l00333"></a>00333 
</pre></div></div>
</div>
<P ALIGN=RIGHT STYLE="margin-bottom: 0cm">&copy; 2007-2011 Witold
Gantzke and Kirill Lepskiy</P>
</BODY>
</HTML>
